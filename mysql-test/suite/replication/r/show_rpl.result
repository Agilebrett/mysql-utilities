Test case 1 - show topology of master with no slaves
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT2

# Replication Topology Graph
No slaves found.

Test case 2 - show topology
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT2
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT1
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT3
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT4

# Replication Topology Graph
127.0.0.1:PORT2 (MASTER)
   |
   +--- 127.0.0.1:PORT1 - (SLAVE)
   |
   +--- 127.0.0.1:PORT3 - (SLAVE + MASTER)
       |
       +--- 127.0.0.1:PORT4 - (SLAVE)

+-----------------+-----------------+
| Master          | Slave           |
+-----------------+-----------------+
| 127.0.0.1:PORT2  | 127.0.0.1:PORT1  |
| 127.0.0.1:PORT2  | 127.0.0.1:PORT3  |
| 127.0.0.1:PORT3  | 127.0.0.1:PORT4  |
+-----------------+-----------------+
Test case 3 - show topology with --max-depth
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT2
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT1

# Replication Topology Graph
127.0.0.1:PORT2 (MASTER)
   |
   +--- 127.0.0.1:PORT1 - (SLAVE)
   |
   +--- 127.0.0.1:PORT3 - (SLAVE)

+-----------------+-----------------+
| Master          | Slave           |
+-----------------+-----------------+
| 127.0.0.1:PORT2  | 127.0.0.1:PORT1  |
| 127.0.0.1:PORT2  | 127.0.0.1:PORT3  |
+-----------------+-----------------+
Test case 4 - show topology with circular replication
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT2
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT1
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT3
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT4

# Replication Topology Graph
127.0.0.1:PORT2 (MASTER)
   |
   +--- 127.0.0.1:PORT1 - (SLAVE)
   |
   +--- 127.0.0.1:PORT3 - (SLAVE + MASTER)
       |
       +--- 127.0.0.1:PORT4 - (SLAVE + MASTER)
           |
           +--- 127.0.0.1:PORT2 <--> (SLAVE + MASTER)

+-----------------+-----------------+
| Master          | Slave           |
+-----------------+-----------------+
| 127.0.0.1:PORT2  | 127.0.0.1:PORT1  |
| 127.0.0.1:PORT2  | 127.0.0.1:PORT3  |
| 127.0.0.1:PORT3  | 127.0.0.1:PORT4  |
| 127.0.0.1:PORT4  | 127.0.0.1:PORT2  |
+-----------------+-----------------+
Test case 5 - show circular topology with verbose option
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT2
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT1
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT3
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT4

# Replication Topology Graph
127.0.0.1:PORT2 (MASTER)
   |
   +--- 127.0.0.1:PORT1 [IO: Yes, SQL: Yes] - (SLAVE)
   |
   +--- 127.0.0.1:PORT3 [IO: Yes, SQL: Yes] - (SLAVE + MASTER)
       |
       +--- 127.0.0.1:PORT4 [IO: Yes, SQL: Yes] - (SLAVE + MASTER)
           |
           +--- 127.0.0.1:PORT2 [IO: Yes, SQL: Yes] <--> (SLAVE + MASTER)

+-----------------+-----------------+
| Master          | Slave           |
+-----------------+-----------------+
| 127.0.0.1:PORT2  | 127.0.0.1:PORT1  |
| 127.0.0.1:PORT2  | 127.0.0.1:PORT3  |
| 127.0.0.1:PORT3  | 127.0.0.1:PORT4  |
| 127.0.0.1:PORT4  | 127.0.0.1:PORT2  |
+-----------------+-----------------+
Test case 6 - show topology with master:master replication
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT5
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT6

# Replication Topology Graph
127.0.0.1:PORT5 (MASTER)
   |
   +--- 127.0.0.1:PORT6 - (SLAVE + MASTER)
       |
       +--- 127.0.0.1:PORT5 <--> (SLAVE + MASTER)

+-----------------+-----------------+
| Master          | Slave           |
+-----------------+-----------------+
| 127.0.0.1:PORT5  | 127.0.0.1:PORT6  |
| 127.0.0.1:PORT6  | 127.0.0.1:PORT5  |
+-----------------+-----------------+
Test case 7 : SHOW SLAVE HOSTS contains 1 row.
Test case 7 - show topology with phantom slave
# master on 127.0.0.1: ... connected.
# Finding slaves for master: 127.0.0.1:PORT3
Error connecting to a slave ...
Error ####: Can't connect to local MySQL server

WARNING: There are slaves that had connection errors.

# Replication Topology Graph
No slaves found.

