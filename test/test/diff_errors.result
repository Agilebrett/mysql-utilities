Test case 1 - Use diff  --format=notthere
WARNING: you must specify a valid difference format. Using default.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Comparing util_test.f1 to util_test.f1                           [PASS]
# Comparing util_test.p1 to util_test.p1                           [PASS]
# Comparing util_test.t1 to util_test.t1                           [FAIL]
# Object definitions are not the same:
--- util_test.t1 
+++ util_test.t1 
@@ -1,3 +1,4 @@
 CREATE TABLE `t1` (
-  `a` char(30) DEFAULT NULL
+  `a` char(30) DEFAULT NULL,
+  `b` int(11) DEFAULT NULL
 ) ENGINE=MEMORY DEFAULT CHARSET=latin1
Diff failed. One or more differences found.
Test case 2 - Use diff  --format=differ
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Comparing util_test.f1 to util_test.f1                           [PASS]
# Comparing util_test.p1 to util_test.p1                           [PASS]
# Comparing util_test.t1 to util_test.t1                           [FAIL]
# Object definitions are not the same:
  CREATE TABLE `t1` (
-   `a` char(30) DEFAULT NULL
+   `a` char(30) DEFAULT NULL,
?                            +
+   `b` int(11) DEFAULT NULL
  ) ENGINE=MEMORY DEFAULT CHARSET=latin1
Diff failed. One or more differences found.
Test case 3 - database doesn't exist
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
ERROR: The database does not exist: util_test1
Test case 4 - database doesn't exist
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
ERROR: The database does not exist: util_test2
Test case 5 - object doesn't exist
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
ERROR: The object util_test.t33 does not exist.
Test case 6 - object doesn't exist
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
ERROR: The object util_test.t31 does not exist.
Test case 7 - malformed argument util_test.util_test 
ERROR: invalid format for object compare argument. Format should be: db1.object:db2:object or db1:db2.
Test case 8 - malformed argument util_test.t3:util_test 
ERROR: invalid format for object compare argument. Format should be: db1.object:db2:object or db1:db2.
Test case 9 - malformed argument util_test:util_test.t3 
ERROR: invalid format for object compare argument. Format should be: db1.object:db2:object or db1:db2.
Test case 10 - malformed argument util_test.t3.t3:util_test.t3 
ERROR: invalid format for object compare argument. Format should be: db1.object:db2:object or db1:db2.
Test case 11 - malformed argument util_test.t3:util_test.t4.t4 
ERROR: invalid format for object compare argument. Format should be: db1.object:db2:object or db1:db2.
Test case 12 - some objects don't exist in dbs
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
WARNING: Objects in server1:util_test but not in server2:util_test:
  TABLE: t5
WARNING: Objects in server2:util_test but not in server1:util_test:
  TABLE: t6
Success. All objects are the same.
